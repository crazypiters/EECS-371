v 20110115 2
C 41500 50700 1 0 0 vcc-1.sym
C 41600 49600 1 270 1 pot-1.sym
{
T 42500 50400 5 10 0 0 90 2 1
device=VARIABLE_RESISTOR
T 42000 50200 5 10 1 1 90 2 1
refdes=R?
T 43100 50400 5 10 0 0 90 2 1
footprint=none
}
C 41600 49100 1 0 0 gnd-1.sym
N 41700 50500 41700 50700 4
N 41700 49400 41700 49600 4
C 40200 48200 1 90 0 switch-pushbutton-no-1.sym
{
T 39900 48600 5 10 1 1 90 0 1
refdes=S?
T 39600 48600 5 10 0 0 90 0 1
device=SWITCH_PUSHBUTTON_NO
}
C 40200 47200 1 90 0 switch-pushbutton-no-1.sym
{
T 39900 47600 5 10 1 1 90 0 1
refdes=S?
T 39600 47600 5 10 0 0 90 0 1
device=SWITCH_PUSHBUTTON_NO
}
T 39200 48700 9 10 1 0 0 0 1
Jog 1
T 39200 47600 9 10 1 0 0 0 1
Jog 2
C 38300 48100 1 0 0 resistor-1.sym
{
T 38600 48500 5 10 0 0 0 0 1
device=RESISTOR
T 38500 48400 5 10 1 1 0 0 1
refdes=R?
T 38900 48400 5 10 1 1 0 0 1
value=1k
}
T 39800 47400 5 10 0 0 0 0 1
device=INPUT
N 39200 48200 42700 48200 4
C 37500 48100 1 0 0 input-1.sym
{
T 37500 48400 5 10 0 0 0 0 1
device=INPUT
T 35800 48100 5 10 1 1 0 0 1
netname=Laser Measurement
}
C 40000 49200 1 0 0 vcc-1.sym
C 40100 46900 1 0 0 gnd-1.sym
T 40600 50000 9 10 1 0 0 0 1
Setpoint
C 46000 49500 1 0 0 lm324-1.sym
{
T 46825 49650 5 8 0 0 0 0 1
device=LM324
T 46000 50500 5 10 1 1 0 0 1
refdes=U3
T 46000 49500 5 10 0 0 0 6 1
slot=3
}
N 53400 49900 47000 49900 4
C 46300 50300 1 0 0 vcc-1.sym
C 46400 49200 1 0 0 gnd-1.sym
N 48000 46000 48000 49900 4
C 49600 46300 1 0 0 lm324-1.sym
{
T 50425 46450 5 8 0 0 0 0 1
device=LM324
T 49600 47300 5 10 1 1 0 0 1
refdes=U3
T 49600 46300 5 10 0 0 0 6 1
slot=4
}
C 50500 45100 1 0 1 capacitor-1.sym
{
T 50300 45800 5 10 0 0 0 6 1
device=CAPACITOR
T 50300 45600 5 10 1 1 0 6 1
refdes=C5
T 50300 46000 5 10 0 0 0 6 1
symversion=0.1
T 50500 44900 5 10 1 1 0 6 1
value=0.47u
}
N 54400 46700 50600 46700 4
N 50500 45300 50600 45300 4
N 50600 44400 50600 46700 4
C 46000 49600 1 0 1 resistor-1.sym
{
T 45700 50000 5 10 0 0 0 6 1
device=RESISTOR
T 46000 49400 5 10 1 1 0 6 1
refdes=R17
T 45500 49400 5 10 1 1 0 6 1
value=100k
}
C 47300 48700 1 0 1 resistor-1.sym
{
T 47000 49100 5 10 0 0 0 6 1
device=RESISTOR
T 47100 49000 5 10 1 1 0 6 1
refdes=R20
T 47000 48500 5 10 1 1 0 6 1
value=100k
}
N 42700 49700 45100 49700 4
C 43300 46000 1 270 1 resistor-1.sym
{
T 43700 46300 5 10 0 0 90 2 1
device=RESISTOR
T 43600 46200 5 10 1 1 90 2 1
refdes=R19
T 43100 46200 5 10 1 1 0 6 1
value=10k
}
C 43300 45700 1 0 0 gnd-1.sym
C 50000 46000 1 0 0 gnd-1.sym
C 49900 47100 1 0 0 vcc-1.sym
N 46000 49700 46000 48800 4
N 46000 48800 46400 48800 4
C 43800 50000 1 0 1 resistor-1.sym
{
T 43500 50400 5 10 0 0 0 6 1
device=RESISTOR
T 43900 50300 5 10 1 1 0 6 1
refdes=R15
T 43300 50300 5 10 1 1 0 6 1
value=100k
}
N 46000 50100 43800 50100 4
C 43300 46900 1 270 1 resistor-1.sym
{
T 43700 47200 5 10 0 0 90 2 1
device=RESISTOR
T 43600 47100 5 10 1 1 90 2 1
refdes=R16
T 43300 47400 5 10 1 1 0 6 1
value=10k
}
C 43200 47800 1 0 0 vcc-1.sym
N 49600 44400 49600 46500 4
N 49600 46900 43400 46900 4
N 47600 48800 47300 48800 4
C 44200 47300 1 270 1 resistor-1.sym
{
T 44600 47600 5 10 0 0 90 2 1
device=RESISTOR
T 44500 47500 5 10 1 1 90 2 1
refdes=R18
T 44200 47300 5 10 1 1 0 6 1
value=100k
}
N 44300 48200 44300 50100 4
N 44300 47300 44300 46900 4
C 55300 49300 1 0 0 lm324-1.sym
{
T 56125 49450 5 8 0 0 0 0 1
device=LM324
T 56100 50100 5 10 1 1 0 0 1
refdes=U5
T 55300 49300 5 10 0 0 0 6 1
slot=2
}
C 48900 46600 1 180 0 pot-2.sym
{
T 48100 45700 5 10 0 0 180 0 1
device=VARIABLE_RESISTOR
T 48300 46200 5 10 1 1 180 0 1
refdes=R22
T 48100 45100 5 10 0 0 180 0 1
footprint=none
T 48900 46600 5 10 1 1 0 6 1
value=1M
}
N 49600 46500 48900 46500 4
N 48400 46000 48000 46000 4
C 55600 50100 1 0 0 vcc-1.sym
C 55700 49000 1 0 0 gnd-1.sym
C 54300 49800 1 0 1 resistor-1.sym
{
T 54000 50200 5 10 0 0 0 6 1
device=RESISTOR
T 54100 50100 5 10 1 1 0 6 1
refdes=R21
T 54100 49500 5 10 1 1 0 6 1
value=100k
}
C 55300 46600 1 0 1 resistor-1.sym
{
T 55000 47000 5 10 0 0 0 6 1
device=RESISTOR
T 55100 46900 5 10 1 1 0 6 1
refdes=R25
T 55000 46400 5 10 1 1 0 6 1
value=100k
}
N 55300 46700 55300 49500 4
C 56200 48300 1 0 1 resistor-1.sym
{
T 55900 48700 5 10 0 0 0 6 1
device=RESISTOR
T 56000 48600 5 10 1 1 0 6 1
refdes=R24
T 56000 48100 5 10 1 1 0 6 1
value=100k
}
C 54600 48700 1 0 0 gnd-1.sym
C 54600 49000 1 270 1 resistor-1.sym
{
T 55000 49300 5 10 0 0 90 2 1
device=RESISTOR
T 54900 49200 5 10 1 1 90 2 1
refdes=R23
T 54600 49000 5 10 1 1 0 6 1
value=100k
}
N 55300 49900 54300 49900 4
N 56200 48400 56300 48400 4
C 60300 49900 1 0 0 vcc-1.sym
C 60400 48800 1 0 0 gnd-1.sym
C 60000 49100 1 0 0 lm324-1.sym
{
T 60000 50100 5 10 1 1 0 0 1
refdes=U5
T 60825 49250 5 8 0 0 0 0 1
device=LM324
T 60000 49100 5 10 0 0 0 6 1
slot=1
}
N 60000 48700 60000 49300 4
C 59400 47900 1 0 0 gnd-1.sym
N 61000 49500 61000 48200 4
N 60400 48200 61000 48200 4
N 56300 49700 56300 48400 4
C 59500 48100 1 0 0 pot-1.sym
{
T 60300 49000 5 10 0 0 0 0 1
device=VARIABLE_RESISTOR
T 60100 48500 5 10 1 1 0 0 1
refdes=R26
T 60300 49600 5 10 0 0 0 0 1
footprint=none
T 59800 47800 5 10 1 1 0 0 1
value=100k
T 59800 47500 5 10 1 1 0 0 1
description=K Gain (1->100)
}
N 47600 48800 47600 49900 4
C 49700 44300 1 0 0 resistor-1.sym
{
T 50000 44700 5 10 0 0 0 0 1
device=RESISTOR
T 49900 44600 5 10 1 1 0 0 1
refdes=R?
T 50000 44000 5 10 1 1 0 0 1
value=1M
}
N 49600 44400 49700 44400 4
T 49300 50100 9 10 1 0 0 6 2
E
centered around 1/2 supply
T 52900 45300 9 10 1 0 0 6 2
-Ki * I
centered around 1/2 supply
T 48900 45600 9 10 1 0 0 6 1
Ki (1->infinite)
T 59500 50800 9 10 1 0 0 6 3
Error + Integral Error
centered around 0
(will only be positive)
T 57500 54500 9 10 1 0 0 6 3
Diff Amps
Sums I and P terms and rejects common mode
One for each direction (1 will always be at GND)
T 60600 50500 9 10 1 0 0 6 1
K gain
T 49500 55700 9 10 1 0 0 0 1
PI Controller
N 42200 50100 42900 50100 4
N 42700 48200 42700 49700 4
C 62600 49400 1 0 0 output-1.sym
{
T 62700 49700 5 10 0 0 0 0 1
device=OUTPUT
T 63500 49500 5 10 1 1 0 0 1
netname=speed
}
C 55400 52700 1 0 0 lm324-1.sym
{
T 56225 52850 5 8 0 0 0 0 1
device=LM324
T 56200 53500 5 10 1 1 0 0 1
refdes=U?
T 55400 52700 5 10 0 0 0 6 1
slot=2
}
C 55700 53500 1 0 0 vcc-1.sym
C 55800 52400 1 0 0 gnd-1.sym
C 56300 51700 1 0 1 resistor-1.sym
{
T 56000 52100 5 10 0 0 0 6 1
device=RESISTOR
T 56100 52000 5 10 1 1 0 6 1
refdes=R?
T 56100 51500 5 10 1 1 0 6 1
value=100k
}
C 54700 52100 1 0 0 gnd-1.sym
C 54700 52400 1 270 1 resistor-1.sym
{
T 55100 52700 5 10 0 0 90 2 1
device=RESISTOR
T 55000 52600 5 10 1 1 90 2 1
refdes=R?
T 54700 52400 5 10 1 1 0 6 1
value=100k
}
N 56300 51800 56400 51800 4
N 56400 53100 56400 51800 4
N 55400 52900 55300 52900 4
N 55300 51800 55300 52900 4
C 57600 50200 1 0 0 resistor-1.sym
{
T 57900 50600 5 10 0 0 0 0 1
device=RESISTOR
T 57800 50500 5 10 1 1 0 0 1
refdes=R?
}
C 57600 49600 1 0 0 resistor-1.sym
{
T 57900 50000 5 10 0 0 0 0 1
device=RESISTOR
T 57800 49900 5 10 1 1 0 0 1
refdes=R?
}
N 56400 53100 57600 53100 4
N 57600 53100 57600 50300 4
N 58500 49700 58500 50300 4
N 58500 49700 60000 49700 4
N 57600 49700 56300 49700 4
N 54200 51800 55400 51800 4
N 54100 53300 55400 53300 4
N 52500 53300 52500 46700 4
C 60100 52400 1 0 0 lm339-1.sym
{
T 60925 52550 5 8 0 0 0 0 1
device=LM339
T 60300 53300 5 10 1 1 0 0 1
refdes=U?
T 61000 54225 5 8 0 0 0 0 1
symversion=1.0
}
C 62000 52700 1 0 0 output-1.sym
{
T 62100 53000 5 10 0 0 0 0 1
device=OUTPUT
T 63000 52700 5 10 1 1 0 0 1
netname=direction
}
N 61000 49500 62600 49500 4
N 62000 52800 61100 52800 4
C 61600 52800 1 90 0 resistor-1.sym
{
T 61200 53100 5 10 0 0 90 0 1
device=RESISTOR
T 61300 53000 5 10 1 1 90 0 1
refdes=R?
}
C 60900 54100 1 180 0 resistor-1.sym
{
T 60600 53700 5 10 0 0 180 0 1
device=RESISTOR
T 60700 53800 5 10 1 1 180 0 1
refdes=R?
}
C 59100 54100 1 180 0 resistor-1.sym
{
T 58800 53700 5 10 0 0 180 0 1
device=RESISTOR
T 58900 53800 5 10 1 1 180 0 1
refdes=R?
}
N 60100 52600 57600 52600 4
N 54800 53300 54800 54000 4
N 54800 54000 58200 54000 4
N 60100 53000 59100 53000 4
N 59100 53000 59100 54000 4
N 60000 54000 59100 54000 4
N 61100 52800 61100 54000 4
N 61100 54000 60900 54000 4
C 60400 53200 1 0 0 vcc-1.sym
C 60500 52100 1 0 0 gnd-1.sym
C 61300 53700 1 0 0 vcc-1.sym
T 60300 54400 9 10 1 0 0 0 1
Comparator determines direction
C 54200 51700 1 0 1 resistor-1.sym
{
T 53900 52100 5 10 0 0 0 6 1
device=RESISTOR
T 54000 52000 5 10 1 1 0 6 1
refdes=R?
T 54000 51400 5 10 1 1 0 6 1
value=100k
}
C 54100 53200 1 0 1 resistor-1.sym
{
T 53800 53600 5 10 0 0 0 6 1
device=RESISTOR
T 53900 53500 5 10 1 1 0 6 1
refdes=R?
T 53900 52900 5 10 1 1 0 6 1
value=100k
}
N 53300 51800 53000 51800 4
N 53000 51800 53000 49900 4
N 53200 53300 52500 53300 4
