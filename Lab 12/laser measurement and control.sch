v 20110115 2
C 45100 45800 1 90 0 current-1.sym
{
T 44100 46400 5 10 0 0 90 0 1
device=CURRENT_SOURCE
T 44500 46100 5 10 1 1 90 2 1
refdes=PV1
}
C 45600 46100 1 0 0 lm324-1.sym
{
T 46425 46250 5 8 0 0 0 0 1
device=LM324
T 45800 47000 5 10 1 1 0 0 1
refdes=U1
T 45600 46100 5 10 0 1 0 0 1
slot=2
}
C 46000 45800 1 0 0 gnd-1.sym
C 45900 47100 1 0 0 vcc-1.sym
C 45600 45300 1 0 0 resistor-1.sym
{
T 45900 45700 5 10 0 0 0 0 1
device=RESISTOR
T 45800 45600 5 10 1 1 0 0 1
refdes=R2
T 45900 45100 5 10 1 1 0 0 1
value=470k
}
N 44900 45800 45600 45800 4
N 45600 45400 45600 46300 4
C 45500 46400 1 0 0 gnd-1.sym
N 45600 46700 44900 46700 4
N 46500 45400 46600 45400 4
N 46600 45400 46600 46500 4
N 46100 47100 46100 46900 4
C 50500 46000 1 0 0 gnd-1.sym
C 50400 47300 1 0 0 vcc-1.sym
N 50600 47300 50600 47100 4
C 50100 46300 1 0 0 lm324-1.sym
{
T 50300 47200 5 10 1 1 0 0 1
refdes=U2
T 50925 46450 5 8 0 0 0 0 1
device=LM324
T 50100 46300 5 10 0 0 0 0 1
slot=3
}
C 49200 44800 1 0 0 capacitor-1.sym
{
T 49400 45500 5 10 0 0 0 0 1
device=CAPACITOR
T 49400 45300 5 10 1 1 0 0 1
refdes=C2
T 49400 45700 5 10 0 0 0 0 1
symversion=0.1
T 49300 44600 5 10 1 1 0 0 1
value=0.0022uF
}
C 49200 46300 1 0 0 capacitor-1.sym
{
T 49400 47000 5 10 0 0 0 0 1
device=CAPACITOR
T 49400 46800 5 10 1 1 0 0 1
refdes=C1
T 49400 47200 5 10 0 0 0 0 1
symversion=0.1
T 49300 46100 5 10 1 1 0 0 1
value=0.0022uF
}
C 49300 46800 1 90 0 resistor-1.sym
{
T 48900 47100 5 10 0 0 90 0 1
device=RESISTOR
T 49000 47000 5 10 1 1 90 0 1
refdes=R5
T 49300 47100 5 10 1 1 0 0 1
value=10k
}
C 50200 45300 1 90 0 resistor-1.sym
{
T 49800 45600 5 10 0 0 90 0 1
device=RESISTOR
T 49900 45500 5 10 1 1 90 0 1
refdes=R6
T 50300 45600 5 10 1 1 0 0 1
value=470k
}
C 48300 46400 1 0 0 resistor-1.sym
{
T 48600 46800 5 10 0 0 0 0 1
device=RESISTOR
T 48500 46700 5 10 1 1 0 0 1
refdes=R4
T 48600 46200 5 10 1 1 0 0 1
value=47k
}
N 49200 45000 49200 46800 4
C 48500 49700 1 0 0 vcc-1.sym
C 48800 48800 1 90 0 resistor-1.sym
{
T 48400 49100 5 10 0 0 90 0 1
device=RESISTOR
T 48500 49000 5 10 1 1 90 0 1
refdes=R1
T 48900 49200 5 10 1 1 0 0 1
value=1k
}
C 48800 47900 1 90 0 resistor-1.sym
{
T 48400 48200 5 10 0 0 90 0 1
device=RESISTOR
T 48500 48100 5 10 1 1 90 0 1
refdes=R3
T 48900 48300 5 10 1 1 0 0 1
value=1k
}
C 48600 47600 1 0 0 gnd-1.sym
N 49200 47700 49200 48800 4
N 49200 48800 48700 48800 4
N 49200 48100 53100 48100 4
N 50100 48100 50100 46900 4
N 50100 45000 50100 45300 4
N 50100 46200 50100 46500 4
T 49000 44200 9 10 1 0 0 0 1
Band Pass Filter (968Hz center; 300Hz BW)
N 48300 46500 46600 46500 4
T 44800 44800 9 10 1 0 0 0 1
Current to voltage
N 50100 45000 51100 45000 4
N 51100 45000 51100 46700 4
C 54100 45600 1 90 0 capacitor-1.sym
{
T 53400 45800 5 10 0 0 90 0 1
device=CAPACITOR
T 53600 45800 5 10 1 1 90 0 1
refdes=C3
T 53200 45800 5 10 0 0 90 0 1
symversion=0.1
T 53000 46100 5 10 1 1 0 0 1
value=0.01uF
}
C 53000 46500 1 0 0 diode-1.sym
{
T 53400 47100 5 10 0 0 0 0 1
device=DIODE
T 53300 47000 5 10 1 1 0 0 1
refdes=D1
}
N 53000 46700 51100 46700 4
N 53900 46700 54000 46700 4
N 53900 46700 53900 46500 4
C 53800 45300 1 0 0 gnd-1.sym
T 53100 44000 9 10 1 0 0 0 1
Peak Detector
C 55500 46100 1 0 0 lm324-1.sym
{
T 55700 47000 5 10 1 1 0 0 1
refdes=U3
T 56325 46250 5 8 0 0 0 0 1
device=LM324
T 55500 46100 5 10 0 0 0 0 1
slot=4
}
C 55800 47100 1 0 0 vcc-1.sym
C 55900 45800 1 0 0 gnd-1.sym
C 55300 45100 1 90 0 resistor-1.sym
{
T 54900 45400 5 10 0 0 90 0 1
device=RESISTOR
T 55000 44400 5 10 1 1 90 0 1
refdes=R14
T 55300 45100 5 10 1 1 0 0 1
value=68k
}
C 55100 44800 1 0 0 gnd-1.sym
N 56000 47100 56000 46900 4
{
T 56000 47100 5 10 0 0 0 0 1
slot=4
}
C 54000 46600 1 0 0 resistor-1.sym
{
T 54300 47000 5 10 0 0 0 0 1
device=RESISTOR
T 54200 46900 5 10 1 1 0 0 1
refdes=R9
T 54500 46900 5 10 1 1 0 0 1
value=33k
}
C 53100 48000 1 0 0 resistor-1.sym
{
T 53400 48400 5 10 0 0 0 0 1
device=RESISTOR
T 53300 48300 5 10 1 1 0 0 1
refdes=R7
T 53600 48300 5 10 1 1 0 0 1
value=33k
}
T 54600 43800 9 10 1 0 0 0 1
Diff Amp to Remove common mode bias
N 56500 46500 57200 46500 4
C 58500 47700 1 0 0 lm339-1.sym
{
T 59325 47850 5 8 0 0 0 0 1
device=LM339
T 58700 48600 5 10 1 1 0 0 1
refdes=U4
T 59400 49525 5 8 0 0 0 0 1
symversion=1.0
T 58500 47700 5 10 1 1 0 0 1
slot=3
}
N 57200 41500 57200 48300 4
C 57900 45800 1 0 0 gnd-1.sym
C 57800 47900 1 0 0 vcc-1.sym
N 58500 47000 58500 47900 4
C 58800 48500 1 0 0 vcc-1.sym
C 58900 47400 1 0 0 gnd-1.sym
C 60100 48100 1 90 0 resistor-1.sym
{
T 59700 48400 5 10 0 0 90 0 1
device=RESISTOR
T 60400 48800 5 10 1 1 180 0 1
refdes=R17
T 60100 48300 5 10 1 1 0 0 1
value=1k
}
C 59800 49000 1 0 0 vcc-1.sym
C 58500 49100 1 0 0 resistor-1.sym
{
T 58800 49500 5 10 0 0 0 0 1
device=RESISTOR
T 58700 49400 5 10 1 1 0 0 1
refdes=R12
T 59100 49400 5 10 1 1 0 0 1
value=100k
}
N 59500 48100 63400 48100 4
N 59400 49200 59600 49200 4
N 59600 49200 59600 48100 4
C 57200 48200 1 0 0 resistor-1.sym
{
T 57500 48600 5 10 0 0 0 0 1
device=RESISTOR
T 57400 48500 5 10 1 1 0 0 1
refdes=R10
T 57700 48500 5 10 1 1 0 0 1
value=56\0
}
N 58100 48300 58500 48300 4
N 58500 48300 58500 49200 4
C 55700 45300 1 0 0 resistor-1.sym
{
T 56000 45700 5 10 0 0 0 0 1
device=RESISTOR
T 55900 45600 5 10 1 1 0 0 1
refdes=R13
T 56200 45600 5 10 1 1 0 0 1
value=68k
}
N 55200 46000 55200 46700 4
N 55500 45400 55500 46300 4
N 56600 45400 56800 45400 4
N 56800 45400 56800 46500 4
N 55500 46700 54900 46700 4
N 55700 45400 55500 45400 4
N 55500 46300 55000 46300 4
N 55000 46300 55000 48100 4
N 55000 48100 54000 48100 4
C 60000 42500 1 270 1 pot-1.sym
{
T 60900 43300 5 10 0 0 90 2 1
device=VARIABLE_RESISTOR
T 60400 43100 5 10 1 1 90 2 1
refdes=R27
T 61500 43300 5 10 0 0 90 2 1
footprint=none
T 58400 42900 5 10 1 1 0 0 1
description=Motor Sensing Pot
}
C 59900 43400 1 0 0 vcc-1.sym
C 60000 42200 1 0 0 gnd-1.sym
N 60600 43000 61100 43000 4
N 61100 43000 61100 43800 4
C 61400 44600 1 0 0 vcc-1.sym
C 61500 43300 1 0 0 gnd-1.sym
C 58900 44900 1 90 0 resistor-1.sym
{
T 58500 45200 5 10 0 0 90 0 1
device=RESISTOR
T 58600 45100 5 10 1 1 90 0 1
refdes=R23
}
C 58900 44000 1 90 0 resistor-1.sym
{
T 58500 44300 5 10 0 0 90 0 1
device=RESISTOR
T 58600 44200 5 10 1 1 90 0 1
refdes=R24
}
C 58600 45800 1 0 0 vcc-1.sym
C 58700 43700 1 0 0 gnd-1.sym
N 58800 44900 61100 44900 4
N 61100 44200 61100 45300 4
C 61100 43600 1 0 0 lm339-1.sym
{
T 61925 43750 5 8 0 0 0 0 1
device=LM339
T 61300 44500 5 10 1 1 0 0 1
refdes=U6
T 62000 45425 5 8 0 0 0 0 1
symversion=1.0
T 61100 43600 5 10 0 0 0 0 1
slot=4
}
C 61100 45200 1 0 0 resistor-1.sym
{
T 61400 45600 5 10 0 0 0 0 1
device=RESISTOR
T 61300 45500 5 10 1 1 0 0 1
refdes=R25
}
N 62000 45300 62100 45300 4
N 62100 45300 62100 44000 4
N 61600 44600 61600 44400 4
N 62100 44000 62800 44000 4
T 59900 41700 9 10 1 0 0 0 1
Seeking Oscillator
C 44900 38800 1 0 0 vcc-1.sym
C 45000 37700 1 270 1 pot-1.sym
{
T 45900 38500 5 10 0 0 90 2 1
device=VARIABLE_RESISTOR
T 45400 38300 5 10 1 1 90 2 1
refdes=R8
T 46500 38500 5 10 0 0 90 2 1
footprint=none
}
C 45000 37200 1 0 0 gnd-1.sym
N 45100 38600 45100 38800 4
N 45100 37500 45100 37700 4
C 49400 37600 1 0 0 lm324-1.sym
{
T 50225 37750 5 8 0 0 0 0 1
device=LM324
T 49400 38600 5 10 1 1 0 0 1
refdes=U5
T 49400 37600 5 10 0 0 0 6 1
slot=3
}
N 54100 38000 50400 38000 4
C 49700 38400 1 0 0 vcc-1.sym
C 49800 37300 1 0 0 gnd-1.sym
N 51400 34100 51400 38000 4
C 53000 34400 1 0 0 lm324-1.sym
{
T 53825 34550 5 8 0 0 0 0 1
device=LM324
T 53000 35400 5 10 1 1 0 0 1
refdes=U7
T 53000 34400 5 10 0 0 0 6 1
slot=4
}
C 53900 33200 1 0 1 capacitor-1.sym
{
T 53700 33900 5 10 0 0 0 6 1
device=CAPACITOR
T 53700 33700 5 10 1 1 0 6 1
refdes=C4
T 53700 34100 5 10 0 0 0 6 1
symversion=0.1
T 53900 33000 5 10 1 1 0 6 1
value=0.47u
}
N 55100 34800 54000 34800 4
N 53900 33400 54000 33400 4
N 54000 32500 54000 34800 4
C 49400 37700 1 0 1 resistor-1.sym
{
T 49100 38100 5 10 0 0 0 6 1
device=RESISTOR
T 49400 37500 5 10 1 1 0 6 1
refdes=R19
T 48900 37500 5 10 1 1 0 6 1
value=100k
}
C 50700 36800 1 0 1 resistor-1.sym
{
T 50400 37200 5 10 0 0 0 6 1
device=RESISTOR
T 50500 37100 5 10 1 1 0 6 1
refdes=R22
T 50400 36600 5 10 1 1 0 6 1
value=100k
}
N 46100 37800 48500 37800 4
C 46700 34100 1 270 1 resistor-1.sym
{
T 47100 34400 5 10 0 0 90 2 1
device=RESISTOR
T 47000 34300 5 10 1 1 90 2 1
refdes=R21
T 46500 34300 5 10 1 1 0 6 1
value=10k
}
C 46700 33800 1 0 0 gnd-1.sym
C 53400 34100 1 0 0 gnd-1.sym
C 53300 35200 1 0 0 vcc-1.sym
N 49400 37800 49400 36900 4
N 49400 36900 49800 36900 4
C 47200 38100 1 0 1 resistor-1.sym
{
T 46900 38500 5 10 0 0 0 6 1
device=RESISTOR
T 47300 38400 5 10 1 1 0 6 1
refdes=R11
T 46700 38400 5 10 1 1 0 6 1
value=100k
}
N 49400 38200 47200 38200 4
C 46700 35000 1 270 1 resistor-1.sym
{
T 47100 35300 5 10 0 0 90 2 1
device=RESISTOR
T 47000 35200 5 10 1 1 90 2 1
refdes=R18
T 46700 35500 5 10 1 1 0 6 1
value=10k
}
C 46600 35900 1 0 0 vcc-1.sym
N 53000 32500 53000 34600 4
N 53000 35000 46800 35000 4
N 51000 36900 50700 36900 4
C 47600 35400 1 270 1 resistor-1.sym
{
T 48000 35700 5 10 0 0 90 2 1
device=RESISTOR
T 47900 35600 5 10 1 1 90 2 1
refdes=R20
T 47600 35400 5 10 1 1 0 6 1
value=100k
}
N 47700 36300 47700 38200 4
N 47700 35400 47700 35000 4
C 56000 37400 1 0 0 lm324-1.sym
{
T 56825 37550 5 8 0 0 0 0 1
device=LM324
T 56800 38200 5 10 1 1 0 0 1
refdes=U8
T 56000 37400 5 10 0 0 0 6 1
slot=2
}
C 52300 34700 1 180 0 pot-2.sym
{
T 51500 33800 5 10 0 0 180 0 1
device=VARIABLE_RESISTOR
T 51700 34300 5 10 1 1 180 0 1
refdes=R28
T 51500 33200 5 10 0 0 180 0 1
footprint=none
T 52300 34700 5 10 1 1 0 6 1
value=1M
}
N 53000 34600 52300 34600 4
N 51800 34100 51400 34100 4
C 56300 38200 1 0 0 vcc-1.sym
C 56400 37100 1 0 0 gnd-1.sym
C 55000 37900 1 0 1 resistor-1.sym
{
T 54700 38300 5 10 0 0 0 6 1
device=RESISTOR
T 54800 38200 5 10 1 1 0 6 1
refdes=R26
T 54800 37600 5 10 1 1 0 6 1
value=100k
}
C 56000 34700 1 0 1 resistor-1.sym
{
T 55700 35100 5 10 0 0 0 6 1
device=RESISTOR
T 55800 35000 5 10 1 1 0 6 1
refdes=R32
T 55700 34500 5 10 1 1 0 6 1
value=100k
}
N 56000 34800 56000 37600 4
C 56900 36400 1 0 1 resistor-1.sym
{
T 56600 36800 5 10 0 0 0 6 1
device=RESISTOR
T 56700 36700 5 10 1 1 0 6 1
refdes=R30
T 56700 36200 5 10 1 1 0 6 1
value=100k
}
C 55300 36800 1 0 0 gnd-1.sym
C 55300 37100 1 270 1 resistor-1.sym
{
T 55700 37400 5 10 0 0 90 2 1
device=RESISTOR
T 55600 37300 5 10 1 1 90 2 1
refdes=R29
T 55300 37100 5 10 1 1 0 6 1
value=100k
}
N 56000 38000 55000 38000 4
N 56900 36500 57000 36500 4
C 61000 38000 1 0 0 vcc-1.sym
C 61100 36900 1 0 0 gnd-1.sym
C 60700 37200 1 0 0 lm324-1.sym
{
T 60700 38200 5 10 1 1 0 0 1
refdes=U9
T 61525 37350 5 8 0 0 0 0 1
device=LM324
T 60700 37200 5 10 0 0 0 6 1
slot=1
}
N 60700 36800 60700 37400 4
N 61700 37600 61700 36300 4
N 61100 36300 61700 36300 4
N 57000 37800 57000 36500 4
C 60200 36200 1 0 0 pot-1.sym
{
T 61000 37100 5 10 0 0 0 0 1
device=VARIABLE_RESISTOR
T 60800 36600 5 10 1 1 0 0 1
refdes=R34
T 61000 37700 5 10 0 0 0 0 1
footprint=none
T 60500 35900 5 10 1 1 0 0 1
value=100k
T 60500 35600 5 10 1 1 0 0 1
description=K Gain (1->100)
}
N 51000 36900 51000 38000 4
C 53100 32400 1 0 0 resistor-1.sym
{
T 53400 32800 5 10 0 0 0 0 1
device=RESISTOR
T 53300 32700 5 10 1 1 0 0 1
refdes=R31
T 53400 32100 5 10 1 1 0 0 1
value=1M
}
N 53000 32500 53100 32500 4
N 45600 38200 46300 38200 4
N 46100 36300 46100 37800 4
C 66300 37700 1 0 0 output-1.sym
{
T 66400 38000 5 10 0 0 0 0 1
device=OUTPUT
T 67200 37800 5 10 1 1 0 0 1
netname=speed
}
N 57000 37800 60700 37800 4
T 52700 38200 9 10 1 0 0 6 2
E
centered around 1/2 supply
T 56300 33400 9 10 1 0 0 6 2
-Ki * I
centered around 1/2 supply
T 52300 33700 9 10 1 0 0 6 1
Ki (1->infinite)
T 57900 39500 9 10 1 0 0 6 3
Diff Amps
Sums I and P terms and rejects common mode
One for each direction (1 will always be at GND)
T 61300 38600 9 10 1 0 0 6 1
K gain
T 52600 40700 9 10 1 0 0 0 1
PI Controller
T 60700 39400 9 10 1 0 0 0 1
Comparator determines direction
T 44000 38100 9 10 1 0 0 0 1
Setpoint
N 46100 36300 42200 36300 4
N 42200 36300 42200 41500 4
N 42200 41500 57200 41500 4
T 59100 45000 9 10 1 0 0 0 1
Laser Measurement
N 63400 38600 63400 48100 4
T 62400 48200 9 10 1 0 0 0 1
Laser Detected?
C 58100 47000 1 90 0 resistor-1.sym
{
T 57700 47300 5 10 0 0 90 0 1
device=RESISTOR
T 57900 47300 5 10 1 1 180 0 1
refdes=R15
T 57500 47500 5 10 1 1 0 0 1
value=6.8k
}
C 58100 46100 1 90 0 resistor-1.sym
{
T 57700 46400 5 10 0 0 90 0 1
device=RESISTOR
T 57800 46400 5 10 1 1 180 0 1
refdes=R16
T 57500 46600 5 10 1 1 0 0 1
value=47k
}
N 58000 47000 58500 47000 4
C 65900 37800 1 90 0 switch-pushbutton-no-1.sym
{
T 65600 38200 5 10 1 1 90 0 1
refdes=S1
T 65300 38200 5 10 0 0 90 0 1
device=SWITCH_PUSHBUTTON_NO
}
C 65900 36800 1 90 0 switch-pushbutton-no-1.sym
{
T 65600 37200 5 10 1 1 90 0 1
refdes=S2
T 65300 37200 5 10 0 0 90 0 1
device=SWITCH_PUSHBUTTON_NO
}
C 64000 37700 1 0 0 resistor-1.sym
{
T 64300 38100 5 10 0 0 0 0 1
device=RESISTOR
T 64200 38000 5 10 1 1 0 0 1
refdes=R36
T 64600 38000 5 10 1 1 0 0 1
value=1k
}
C 65700 38800 1 0 0 vcc-1.sym
C 65800 36500 1 0 0 gnd-1.sym
C 64000 37200 1 0 1 4053-1.sym
{
T 62600 38800 5 10 0 0 0 6 1
device=4053
T 63700 38400 5 10 1 1 0 6 1
refdes=U10
T 62600 39000 5 10 0 0 0 6 1
footprint=DIP16
T 64000 37200 5 10 0 1 0 0 1
slot=1
}
N 61700 37600 62800 37600 4
N 62800 38000 62800 44000 4
T 64900 38300 9 10 1 0 0 0 1
Jog 1
T 64900 37200 9 10 1 0 0 0 1
Jog 2
N 66300 37800 64900 37800 4
C 59600 35400 1 270 1 resistor-1.sym
{
T 60000 35700 5 10 0 0 90 2 1
device=RESISTOR
T 59900 35600 5 10 1 1 90 2 1
refdes=R35
T 59400 35600 5 10 1 1 0 6 1
value=1k
}
C 59600 35100 1 0 0 gnd-1.sym
C 59600 36300 1 270 1 resistor-1.sym
{
T 60000 36600 5 10 0 0 90 2 1
device=RESISTOR
T 59900 36500 5 10 1 1 90 2 1
refdes=R33
T 59400 36800 5 10 1 1 0 6 1
value=1k
}
C 59500 37200 1 0 0 vcc-1.sym
N 59700 36300 60200 36300 4
